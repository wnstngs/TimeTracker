@using Microsoft.AspNetCore.Identity
@using Microsoft.AspNetCore.Mvc.TagHelpers

@inject SignInManager<ApplicationUser> signInManager
@inject UserManager<ApplicationUser> userManager

@if (signInManager.IsSignedIn(User))
{
	var currentUser = await userManager.GetUserAsync(User);

	var isAdmin = currentUser != null
	              && await userManager.IsInRoleAsync(
		              currentUser,
		              Roles.Admin);

	if (isAdmin)
	{
		<ul class="nav navbar-nav navbar-right">
			<li>
				<a class="nav-link text-dark"
				   asp-controller="Users"
				   asp-action="Index">
					Manage Users
				</a>
			</li>
		</ul>
	}
}